{"version":3,"sources":["api/index.js","store/index.js","components/Comment/Comment.js","components/CommentList/CommentsList.js","components/User/User.js","components/Post/Post.js","components/PostList/PostList.js","App.js","index.js"],"names":["getDataFromServer","data","fetch","concat","then","resolve","json","ACTION_TYPES","DELETE_POST","DELETE_COMMENT","FINISH_LOAD","START_LOAD","HAS_ERROR","finishLoad","posts","type","startLoad","errorOccur","initialState","isLoading","hasError","getPosts","state","store","createStore","arguments","length","undefined","action","_objectSpread","Object","toConsumableArray","map","item","comments","filter","comment","id","deleteId","deleleId","applyMiddleware","thunk","Comment","_ref","user","name","body","email","userName","react_default","a","createElement","className","onClick","event","Number","target","defaultProps","connect","dispatch","deleteComment","CommentsList","components_Comment_Comment","key","User","_user$address","address","street","suite","city","deleteIdPost","deletePost","post","title","components_User_User","CommentList_CommentsList","components_Post_Post","loadData","Promise","all","_data","slicedToArray","users","postsWithcomments","find","person","userId","postId","catch","titleButton","classForButton","Fragment","disabled","components_PostList_PostList","ReactDOM","render","es","src_App_0","document","getElementById"],"mappings":"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","file":"static/js/main.fcdb1f4a.chunk.js","sourcesContent":["const SOURCE_URL = 'https://jsonplaceholder.typicode.com/';\n\nconst getDataFromServer = data => (\n  fetch(`${SOURCE_URL}${data}`).then(resolve => resolve.json())\n);\n\nexport default getDataFromServer;\n","import { createStore, applyMiddleware } from 'redux';\nimport thunk from 'redux-thunk';\nimport getDataFromServer from '../api';\n\nexport const loadDataFromServer = () => (dispatch) => {\n  dispatch(startLoad());\n  return Promise.all([\n    getDataFromServer('posts'),\n    getDataFromServer('users'),\n    getDataFromServer('comments'),\n  ]).then((data) => {\n    const [posts, users, comments] = data;\n\n    const postsWithcomments = [...posts].map(post => (\n      {\n        ...post,\n        user: users.find(person => person.id === post.userId),\n        comments: comments\n          .filter(comment => comment.postId === post.id)\n          .map(item => ({\n            ...item,\n            user: users.find(person => person.email === item.email),\n          })),\n      }\n    ));\n    dispatch(finishLoad(postsWithcomments));\n  }).catch(() => dispatch(errorOccur()));\n};\n\nexport const ACTION_TYPES = {\n  DELETE_POST: 'DELETE_POST',\n  DELETE_COMMENT: 'DELETE_COMMENT',\n  FINISH_LOAD: 'FINISH_LOAD',\n  START_LOAD: 'START_LOAD',\n  HAS_ERROR: 'HAS_ERROR',\n};\n\nconst finishLoad = posts => ({\n  type: ACTION_TYPES.FINISH_LOAD,\n  posts,\n});\n\nconst startLoad = () => ({\n  type: ACTION_TYPES.START_LOAD,\n});\n\nconst errorOccur = () => ({\n  type: ACTION_TYPES.HAS_ERROR,\n});\n\nconst initialState = {\n  posts: [],\n  isLoading: false,\n  hasError: false,\n};\n\nexport const deletePost = id => ({\n  type: ACTION_TYPES.DELETE_POST,\n  deleleId: id,\n});\n\nexport const deleteComment = id => ({\n  type: ACTION_TYPES.DELETE_COMMENT,\n  deleteId: id,\n});\n\nfunction reducer(state = initialState, action = {}) {\n  switch (action.type) {\n    case ACTION_TYPES.DELETE_COMMENT:\n      return ({\n        ...state,\n        posts: [...state.posts.map(item => ({ ...item, comments: item.comments.filter(comment => comment.id !== action.deleteId) }))],\n      });\n    case ACTION_TYPES.DELETE_POST:\n      return ({\n        ...state,\n        posts: [...state.posts.filter(item => item.id !== action.deleleId)],\n      });\n    case ACTION_TYPES.START_LOAD:\n      return ({\n        ...state,\n        isLoading: true,\n        hasError: false,\n      });\n    case ACTION_TYPES.FINISH_LOAD:\n      return ({\n        ...state,\n        posts: [...action.posts],\n        isLoading: false,\n      });\n    case ACTION_TYPES.HAS_ERROR:\n      return ({\n        hasError: true,\n        isLoading: false,\n      });\n    default:\n      return state;\n  }\n}\n\nexport const getPosts = state => state.posts;\n\nexport const store = createStore(\n  reducer,\n  initialState,\n  applyMiddleware(thunk)\n);\n","import React from 'react';\nimport './Comment.css';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { deleteComment } from '../../store';\n\nfunction Comment({ comment, user, deleteId }) {\n  const { name, body, email, id } = comment;\n  const userName = user.name;\n\n  return (\n    <li className=\"list-group-item list-group-item-info comment\">\n      <p className=\"list-group-item list-group-item-info comment__head\">\n        <button\n          id={id}\n          type=\"button\"\n          className=\"btn btn-danger btn-sm\"\n          onClick={event => deleteId(Number(event.target.id))}\n        >\n          x\n        </button>\n        {name}\n      </p>\n      <p className=\"list-group-item list-group-item-info comment__body\">\n        {body}\n      </p>\n      <p className=\"list-group-item list-group-item-info comment__user-info\">\n        {`user: ${userName} (${email})`}\n      </p>\n    </li>\n  );\n}\n\nComment.defaultProps = {\n  user: {\n    name: 'Guest',\n  },\n};\n\nComment.propTypes = {\n  comment: PropTypes.shape({\n    name: PropTypes.string,\n    body: PropTypes.string,\n    email: PropTypes.string,\n    user: PropTypes.shape({\n      name: PropTypes.string,\n    }),\n  }).isRequired,\n  user: PropTypes.shape({\n    name: PropTypes.string,\n  }),\n};\n\nconst getMethod = dispatch => ({\n  deleteId: id => dispatch(deleteComment(id)),\n});\n\nexport default connect(\n  null,\n  getMethod,\n)(Comment);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Comment from '../Comment/Comment';\n\nconst CommentsList = ({ comments }) => (\n  comments.map(\n    item => <Comment comment={item} user={item.user} key={item.id} />\n  )\n);\n\nCommentsList.propTypes = {\n  comments: PropTypes.arrayOf(PropTypes.shape({\n    name: PropTypes.string,\n    body: PropTypes.string,\n    email: PropTypes.string,\n    user: PropTypes.shape({\n      name: PropTypes.string,\n    }),\n  })).isRequired,\n};\n\nexport default CommentsList;\n","import React from 'react';\nimport './User.css';\nimport PropTypes from 'prop-types';\n\nfunction User({ user }) {\n  const { name, email } = user;\n  const { street, suite, city } = user.address;\n\n  return (\n    <p className=\"list-group-item list-group-item-primary user-info\">\n      {\n        `User: ${name}, email: ${email} |\n        Adress: ${street}, ${suite}, ${city}`\n      }\n    </p>\n  );\n}\n\nUser.propTypes = {\n  user: PropTypes.shape({\n    name: PropTypes.string,\n    email: PropTypes.string,\n    address: PropTypes.shape({\n      street: PropTypes.string,\n      suite: PropTypes.string,\n      city: PropTypes.string,\n    }),\n  }).isRequired,\n};\n\nexport default User;\n","import React from 'react';\nimport './Post.css';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport CommentList from '../CommentList/CommentsList';\nimport User from '../User/User';\nimport { deletePost } from '../../store';\n\nfunction Post({ post, deleteIdPost }) {\n  const { title, body, comments, id } = post;\n\n  return (\n    <ul className=\"list-group post\">\n      <p className=\"list-group-item list-group-item-primary post__head\">\n        <button\n          id={id}\n          type=\"button\"\n          className=\"btn btn-danger btn-sm\"\n          onClick={event => deleteIdPost(Number(event.target.id))}\n        >\n          x\n        </button>\n        {title}\n      </p>\n      <p className=\"list-group-item list-group-item-primary post__body\">\n        {body}\n      </p>\n      <User user={post.user} />\n      <CommentList comments={comments} />\n    </ul>\n  );\n}\n\nPost.propTypes = {\n  post: PropTypes.shape({\n    title: PropTypes.string,\n    body: PropTypes.string,\n    user: PropTypes.shape({\n      name: PropTypes.string,\n      email: PropTypes.string,\n      address: PropTypes.shape({\n        street: PropTypes.string,\n        suite: PropTypes.string,\n        city: PropTypes.string,\n      }),\n    }),\n    comments: PropTypes.arrayOf(PropTypes.shape({\n      name: PropTypes.string,\n      body: PropTypes.string,\n      email: PropTypes.string,\n      user: PropTypes.shape({\n        name: PropTypes.string,\n      }),\n    })),\n  }).isRequired,\n};\n\nconst getMethod = dispatch => ({\n  deleteIdPost: id => dispatch(deletePost(id)),\n});\n\nexport default connect(\n  null,\n  getMethod\n)(Post);\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport Post from '../Post/Post';\nimport { getPosts } from '../../store';\n\nconst PostList = ({ posts }) => (\n  posts.map(item => (\n    <Post post={item} key={item.id} />\n  ))\n);\n\nPostList.propTypes = {\n  posts: PropTypes.arrayOf(PropTypes.shape({\n    title: PropTypes.string,\n    body: PropTypes.string,\n    user: PropTypes.shape({\n      name: PropTypes.string,\n      email: PropTypes.string,\n      address: PropTypes.shape({\n        street: PropTypes.string,\n        suite: PropTypes.string,\n        city: PropTypes.string,\n      }),\n    }),\n    comments: PropTypes.arrayOf(PropTypes.shape({\n      name: PropTypes.string,\n      body: PropTypes.string,\n      email: PropTypes.string,\n      user: PropTypes.shape({\n        name: PropTypes.string,\n      }),\n    })),\n  })).isRequired,\n};\n\nconst getData = state => ({\n  posts: getPosts(state),\n});\n\nexport default connect(\n  getData,\n)(PostList);\n","import React from 'react';\nimport './App.css';\nimport { connect } from 'react-redux';\nimport PostList from './components/PostList/PostList';\nimport { loadDataFromServer } from './store';\n\nconst App = ({posts, isLoading, hasError, loadData}) => {\n  const titleButton = (hasError ? 'Try again' : 'Load posts');\n  const classForButton = (\n    isLoading\n      ? 'btn btn-secondary'\n      : 'btn btn-primary'\n  );\n\n  return (\n    <div className=\"App\">\n      <h1>Static list of posts</h1>\n\n      {posts.length\n        ? (\n          <>\n            <span>posts: </span>\n            {posts.length}\n          </>\n        )\n        : (\n          <>\n            <p>No posts yet..</p>\n            {hasError\n              ? <p className=\"alert alert-danger\">Error occurred!</p>\n              : null\n            }\n            <button\n              type=\"button\"\n              className={classForButton}\n              onClick={loadData}\n              disabled={isLoading}\n            >\n              {isLoading\n                ? 'Loading...'\n                : titleButton\n              }\n            </button>\n          </>\n        )\n      }\n      <PostList />\n    </div>\n  );\n};\n\nconst getDataState = state => ({\n  posts: state.posts,\n  isLoading: state.isLoading,\n  hasError: state.hasError,\n});\n\nconst getMethod = dispatch => ({\n  loadData: () => dispatch(loadDataFromServer()),\n});\n\nexport default connect(\n  getDataState,\n  getMethod\n)(App);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport App from './App';\nimport { store } from './store';\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}