(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{18:function(e,t,n){e.exports=n(37)},28:function(e,t,n){},34:function(e,t,n){},35:function(e,t,n){},36:function(e,t,n){},37:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(6),c=n.n(o),i=n(1),s=(n(28),n(13)),u=n.n(s),l=(n(34),n(35),n(14)),m=n(4),p=n(17),f=n(5),d=n(15),E=n(16),b=function(e){return fetch("".concat("https://jsonplaceholder.typicode.com/").concat(e)).then(function(e){return e.json()})};function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(n,!0).forEach(function(t){Object(l.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var y={DELETE_POST:"DELETE_POST",DELETE_COMMENT:"DELETE_COMMENT",FINISH_LOAD:"FINISH_LOAD",START_LOAD:"START_LOAD",SHOW_ERROR:"SHOW_ERROR",CHANGE_FILTER:"CHANGE_FILTER"},_=function(e){return{type:y.FINISH_LOAD,posts:e}},T=function(){return{type:y.START_LOAD}},h=function(){return{type:y.SHOW_ERROR}},L={posts:[],isLoading:!1,hasError:!1,filter:""};var N=Object(E.a)([function(e){return e.posts},function(e){return e.filter}],function(e,t){return e.filter(function(e){return e.title.includes(t)})}),I=Object(f.c)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case y.DELETE_COMMENT:return g({},e,{posts:Object(m.a)(e.posts.map(function(e){return g({},e,{comments:Object(m.a)(e.comments.filter(function(e){return e.id!==t.deletedId}))})}))});case y.DELETE_POST:return g({},e,{posts:Object(m.a)(e.posts.filter(function(e){return e.id!==t.deletedId}))});case y.START_LOAD:return g({},e,{isLoading:!0,hasError:!1});case y.FINISH_LOAD:return g({},e,{posts:Object(m.a)(t.posts),isLoading:!1});case y.SHOW_ERROR:return g({},e,{hasError:!0,isLoading:!1});case y.CHANGE_FILTER:return g({},e,{filter:t.filter});default:return e}},L,Object(f.a)(d.a));function j(e){var t=e.comment,n=e.user,r=e.deleteId,o=t.name,c=t.body,i=t.email,s=t.id,u=n.name;return a.a.createElement("li",{className:"list-group-item list-group-item-info comment"},a.a.createElement("p",{className:"list-group-item list-group-item-info comment__head"},a.a.createElement("button",{id:s,type:"button",className:"btn btn-danger btn-sm btn-del",title:"Delete comment",onClick:function(e){var t=e.target;return r(Number(t.id))}},"x"),o),a.a.createElement("p",{className:"list-group-item list-group-item-info comment__body"},c),a.a.createElement("p",{className:"list-group-item list-group-item-info comment__user-info"},"user: ".concat(u," (").concat(i,")")))}j.defaultProps={user:{name:"Guest"}};var v=Object(i.b)(null,function(e){return{deleteId:function(t){return e(function(e){return{type:y.DELETE_COMMENT,deletedId:e}}(t))}}})(j),D=function(e){return e.comments.map(function(e){return a.a.createElement(v,{comment:e,user:e.user,key:e.id})})};n(36);var P=function(e){var t=e.user,n=t.name,r=t.email,o=t.address,c=o.street,i=o.suite,s=o.city;return a.a.createElement("p",{className:"list-group-item list-group-item-primary user-info"},"User: ".concat(n,", email: ").concat(r," |\n        Adress: ").concat(c,", ").concat(i,", ").concat(s))};var R=Object(i.b)(null,function(e){return{deleteIdPost:function(t){return e(function(e){return{type:y.DELETE_POST,deletedId:e}}(t))}}})(function(e){var t=e.post,n=e.deleteIdPost,r=t.title,o=t.body,c=t.comments,i=t.id;return a.a.createElement("ul",{className:"list-group post"},a.a.createElement("p",{className:"list-group-item list-group-item-primary post__head"},a.a.createElement("button",{id:i,type:"button",className:"btn btn-danger btn-sm btn-del",title:"Delete post",onClick:function(e){var t=e.target;return n(Number(t.id))}},"x"),r),a.a.createElement("p",{className:"list-group-item list-group-item-primary post__body"},o),a.a.createElement(P,{user:t.user}),a.a.createElement(D,{comments:c}))}),S=Object(i.b)(function(e){return{filteredPosts:N(e)}})(function(e){return e.filteredPosts.map(function(e){return a.a.createElement(R,{post:e,key:u()()})})}),A=Object(i.b)(function(e){return{posts:e.posts,isLoading:e.isLoading,hasError:e.hasError,filteredPosts:N(e)}},function(e){return{loadData:function(){return e(function(e){return e(T()),Promise.all([b("posts"),b("users"),b("comments")]).then(function(t){var n=Object(p.a)(t,3),r=n[0],a=n[1],o=n[2],c=Object(m.a)(r).map(function(e){return g({},e,{user:a.find(function(t){return t.id===e.userId}),comments:o.filter(function(t){return t.postId===e.id}).map(function(e){return g({},e,{user:a.find(function(t){return t.email===e.email})})})})});e(_(c))}).catch(function(){return e(h())})})},changeInput:function(t){return e(function(e){return{type:y.CHANGE_FILTER,filter:e}}(t))}}})(function(e){var t=e.posts,n=e.filteredPosts,r=e.isLoading,o=e.hasError,c=e.loadData,i=e.changeInput,s=o?"Try again":"Load posts",u=r?"btn btn-secondary":"btn btn-primary",l=n.length,m=t.length;return a.a.createElement("div",{className:"app"},a.a.createElement("div",{className:"header"},a.a.createElement("h1",null,"Static list of posts"),m?a.a.createElement(a.a.Fragment,null,a.a.createElement("p",null,"posts:".concat(m)),a.a.createElement("div",{className:"filter"},a.a.createElement("label",{htmlFor:"filter"},"FILTER BY POST TITLE:",a.a.createElement("input",{id:"filter",type:"text",placeholder:"Enter text from title of post...",onChange:function(e){var t=e.target;return i(t.value)}}),l!==m&&" selected ".concat(l," posts")))):a.a.createElement(a.a.Fragment,null,a.a.createElement("p",null,"No posts yet.."),o&&a.a.createElement("p",{className:"alert alert-danger"},"Error occurred!"),a.a.createElement("button",{type:"button",className:u,onClick:c,disabled:r},r?"Loading...":s))),a.a.createElement(S,null))});c.a.render(a.a.createElement(i.a,{store:I},a.a.createElement(A,null)),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.f2f4096d.chunk.js.map